(this["webpackJsonpweather-app-reactjs"]=this["webpackJsonpweather-app-reactjs"]||[]).push([[0],{2:function(e,t,c){"use strict";c.d(t,"a",(function(){return h})),c.d(t,"b",(function(){return O}));var n=c(6),a=c.n(n),r=c(8),o=c(5),s=c(1),i=c.n(s),l=c(7),u=c.n(l),d=c(25),_=c.n(d),j=function(e,t){var c=[];switch(t.type){case"hourly":var n=t.forecast.hourly;c.length=0;for(var a=0;a<n.length;a++){var r={},o=new Date(1e3*n[a].dt),s=o.getUTCHours()%12+1,i=o.toLocaleDateString("en-US",{weekday:"short"}),l="".concat(s).concat(o.getUTCHours()>12?"pm":"am"),u="".concat(i," of ").concat(l);r.dt=u,r.icon="".concat("https://openweathermap.org/img/wn/").concat(n[a].weather[0].icon,"@2x.png"),r.sky=n[a].weather[0].description,r.temp="".concat(n[a].temp," \xb0C"),c.push(r)}return{forecast:c,type:t.type};case"daily":var d=t.forecast.daily;c.length=0;for(var _=0;_<d.length;_++){var j={};console.log(d[_]);var p=new Date(1e3*d[_].dt),h=(p.getUTCHours(),p.toLocaleDateString("en-US",{weekday:"long"})),O="".concat(h);j.dt=O,j.icon="".concat("https://openweathermap.org/img/wn/").concat(d[_].weather[0].icon,"@2x.png"),j.sky=d[_].weather[0].description,j.temp="".concat(d[_].temp.max," \xb0C"),c.push(j)}return{forecast:c,type:t.type};default:return{forecast:t.default,type:t.type}}},p=c(0),h=Object(s.createContext)(),O=function(e){var t=e.children,c=Object(s.useState)(""),n=Object(o.a)(c,2),l=n[0],d=n[1],O=Object(s.useState)(),b=Object(o.a)(O,2),x=b[0],f=b[1],m=Object(s.useReducer)(j,[]),g=Object(o.a)(m,2),v=g[0],w=g[1],E=Object(s.useState)([]),P=Object(o.a)(E,2),L=P[0],C=P[1],y=Object(s.useState)(!1),D=Object(o.a)(y,2),k=D[0],M=D[1],N=Object(s.useState)(0),I=Object(o.a)(N,2),R=I[0],T=I[1],A=Object(s.useState)(!1),U=Object(o.a)(A,2),W=U[0],B=U[1],S=Object(s.useState)(!1),K=Object(o.a)(S,2),F=K[0],G=K[1],q=Object(s.useRef)(!0),H=273.1,z=function(){var e=Object(r.a)(a.a.mark((function e(){var t,c,n,r,o,s,i,d=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]&&d[0],console.log(t),M(!1),T(0),e.prev=4,!(l.length>0)){e.next=19;break}return e.next=8,u.a.get("https://openweathermap.org/data/2.5/find?appid=439d4b804bc8187953eb36d2a8c26a02&units=metric&q="+l,{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);T(t)}});case 8:return c=e.sent,e.next=11,c.data;case 11:for(n=e.sent,r=n.list,o=[],s=0;s<r.length;s++)i="".concat(r[s].sys.country.toLowerCase(),".png"),o.push({cityID:r[s].id,name:"".concat(r[s].name," ").concat(r[s].sys.country),flag:"https://openweathermap.org/images/flags/"+i,lcon:r[s].weather[0].icon,ldeg:r[s].main.temp,icon:"".concat("https://openweathermap.org/img/wn/").concat(r[s].weather[0].icon,".png"),deg:"".concat(Math.floor(r[s].main.temp-H),"\xb0"),degIcon:"\xb0",lat:r[s].coord.lat,lon:r[s].coord.lon});C(o),M(!0),e.next=21;break;case 19:M(!0),T(100);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(4),M(!0),T(100);case 27:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(r.a)(a.a.mark((function e(){var t,c,n,r,o,s,i,l,j,p,h,O,b,x,m,g,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:null,c=v.length>1&&void 0!==v[1]?v[1]:null,n=v.length>2&&void 0!==v[2]?v[2]:null,r=v.length>3&&void 0!==v[3]?v[3]:null,M(!1),T(0),e.prev=6,e.next=9,_.a.v4();case 9:return o=e.sent,e.next=12,u.a.get("".concat("https://ipapi.co/").concat(o,"/json"),{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);T(t)}});case 12:return s=e.sent,e.next=15,s.data;case 15:return i=e.sent,e.next=18,u.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?appid=3718dfd6a49e196bde55afa82fd3702b","&lat=").concat(t||i.latitude,"&lon=").concat(c||i.longitude),{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);T(t)}});case 18:return l=e.sent,e.next=21,l.data;case 21:return j=e.sent,p=j.sys.country,h="".concat(j.sys.country.toLowerCase(),".png"),O={skyType:j.weather[0].main,cityID:j.id,coord:j.coord,name:j.name,flag:"https://openweathermap.org/images/flags/"+h,date:new Date(1e3*j.dt).toString().split("(")[0].split(" ").slice(0,3).join(" "),icon:"".concat("https://openweathermap.org/img/wn/"+(n||j.weather[0].icon),"@2x.png"),deg:"".concat(Math.floor((r||j.main.temp)-H)),degIcon:"\xb0",lat:j.coord.lat,lon:j.coord.lon,sky:j.weather[0].description,feels:"".concat(Math.floor((r||j.main.feels_like)-H)),wind:"".concat(j.wind.speed,"m/s"),clouds:"".concat(j.clouds.all),pressure:(100*j.main.pressure/101325).toFixed(3),sunrise:new Date(1e3*j.sys.sunrise).toLocaleTimeString({},{hour12:!0,hour:"numeric",minute:"numeric"}),sunset:new Date(1e3*j.sys.sunset).toLocaleTimeString({},{hour12:!0,hour:"numeric",minute:"numeric"})},e.next=27,u.a.get("".concat("https://restcountries.eu/rest/v2/alpha/").concat(p));case 27:return b=e.sent,e.next=30,b.data;case 30:return x=e.sent,O.country=x.name,e.next=34,u.a.get("".concat("https://api.bigdatacloud.net/data/reverse-geocode-client?localityLanguage=en&","latitude=").concat(t||i.latitude,"&longitude=").concat(c||i.longitude));case 34:return m=e.sent,e.next=37,m.data;case 37:g=e.sent,O.locality=g.locality,f({current:O}),d(""),C([]),M(!0),e.next=49;break;case 45:e.prev=45,e.t0=e.catch(6),M(!0),T(100);case 49:case"end":return e.stop()}}),e,null,[[6,45]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(r.a)(a.a.mark((function e(t,c,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!1),T(0),e.prev=2,e.next=5,u.a.get("".concat("https://openweathermap.org/data/2.5/onecall?units=metric&appid=439d4b804bc8187953eb36d2a8c26a02&","&lat=").concat(t,"&lon=").concat(c));case 5:return r=e.sent,e.next=8,r.data;case 8:o=e.sent,w({type:n,forecast:o,default:[]}),M(!0),G(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),M(!0),T(100);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,c,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(q.current)return q.current=!1,"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;J(t,c)})),void J();l.length>0?z():C([])}),[l]),Object(p.jsx)(i.a.Fragment,{children:Object(p.jsx)(h.Provider,{value:{location:l,fLocation:d,weather:L,ifLoaded:k,IfLoadedPercentage:R,setIfLoaded:M,setIfLoadedPercentage:T,currentLocation:x,currentLocationReport:v,ifPickLocation:W,setIfPickLocation:B,ifPickReport:F,setIfPickReport:G,WEATHER_LOCATIONS:z,GEOGRAPHICAL_LOCATION:J,GEOGRAPHICAL_REPORTS:Q},children:t})})}},23:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_context_CGeolocation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_Weather__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__),Main=function Main(_ref){var location=_ref.location,_useContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_CGeolocation__WEBPACK_IMPORTED_MODULE_2__.a),ifLoaded=_useContext.ifLoaded,currentLocation=_useContext.currentLocation,pad=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var ifWebview=eval(new URLSearchParams(window.location.search).get("webview"));pad.current.style.padding=ifWebview?"30px 20px 20px 20px":"0px 20px 20px 20px"}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{children:[!ifLoaded&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Loader__WEBPACK_IMPORTED_MODULE_1__.a,{bgcolor:"#706dc5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"weather-main-app",ref:pad,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"weather-info",children:currentLocation&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Weather__WEBPACK_IMPORTED_MODULE_3__.a,{})})})]})};__webpack_exports__.a=Main},24:function(e,t,c){"use strict";var n=c(1),a=c.n(n),r=c(0);t.a=function(e){var t=e.bgcolor;return Object(r.jsx)(a.a.Fragment,{children:Object(r.jsx)("div",{className:"progress_bar",children:Object(r.jsx)("div",{className:"indeterminate",style:{backgroundColor:t}})})})}},27:function(e,t,c){"use strict";var n=c(1),a=c.n(n),r=c(2),o=c(26),s=c(0),i=function(){var e=Object(n.useContext)(r.a),t=e.location,c=e.fLocation,i=e.ifLoaded,l=e.setIfPickLocation,u=e.ifPickReport;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)(o.DebounceInput,{type:"text",className:"weather-search",placeholder:"Enter Location",disabled:!((i||!u)&&(i||u)),onFocus:function(){l(!1)},debounceTimeout:700,value:t,onChange:function(e){c(e.target.value)}})})},l=function(e){var t=e.name,c=e.flag,n=e.temp,r=e.icon,o=e.lat,i=e.lon;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("li",{className:"location-info",children:[Object(s.jsx)("span",{className:"location-info-name",children:t}),Object(s.jsx)("span",{className:"location-info-cflag",children:Object(s.jsx)("img",{className:"location-info-flag",src:c})}),Object(s.jsx)("span",{className:"location-info-temp",children:n}),Object(s.jsx)("span",{className:"location-info-cicon",children:Object(s.jsx)("img",{className:"location-info-icon",src:r})}),Object(s.jsx)("span",{className:"location-info-coordinates",children:"".concat(o," ").concat(i)})]})})},u=function(){var e=Object(n.useContext)(r.a),t=e.weather,c=e.location,o=e.ifPickLocation,i=e.setIfPickLocation,u=(e.ifPickReport,e.GEOGRAPHICAL_LOCATION);return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)("div",{className:"weather-search-result ".concat(t.length>0&&c.length>0&&!o?"weather-search-result-show":""),children:Object(s.jsx)("div",{className:"location-result ".concat(c.length>0?"show-location-result":""),children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsx)("div",{className:"location-data",onClick:function(t){i(!0),u(e.lat,e.lon,e.lcon,e.ldeg)},children:Object(s.jsx)(l,{name:e.name,flag:e.flag,temp:e.deg,icon:e.icon,lat:e.lat,lon:e.lon,loadThis:u})},e.cityID)}))})})})})},d=c(4),_=c.n(d),j=function(){var e=Object(n.useContext)(r.a).currentLocation;return Object(s.jsxs)(a.a.Fragment,{children:[Object(s.jsxs)("div",{className:"current-location-info-data",children:[Object(s.jsx)("div",{className:"current-location-today",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"".concat(e.current.name," ").concat(e.current.locality)}),Object(s.jsx)("p",{className:"current-location-yours",children:Object(s.jsxs)("span",{children:[e.current.country,Object(s.jsx)("img",{src:e.current.flag})]})}),Object(s.jsxs)("p",{children:[e.current.date," , Feels like ",e.current.feels," ",Object(s.jsxs)("span",{children:[e.current.degIcon,"C"]})]})]})}),Object(s.jsxs)("p",{className:"current-location-deg",children:[e.current.deg,Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{children:e.current.degIcon}),"C"]})]}),Object(s.jsxs)("p",{className:"current-location-sky",children:[e.current.sky," ",Object(s.jsx)("img",{src:e.current.icon,className:"current-location-icon"})," "]}),Object(s.jsxs)("p",{className:"current-location-sunset-sunrise",children:["Sunrise \xa0",e.current.sunrise]}),Object(s.jsxs)("p",{className:"current-location-sunset-sunrise",children:["Sunset \xa0 ",e.current.sunset]})]}),Object(s.jsx)("div",{className:"current-location-temp",children:Object(s.jsxs)("div",{className:"current-location-weather",children:[Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(_.a,{icon:"wind",size:"15"}),Object(s.jsx)("span",{children:e.current.wind})]}),Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(_.a,{icon:"cloud",size:"15"}),Object(s.jsxs)("span",{children:[e.current.clouds,"%"]})]}),Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(_.a,{icon:"alert-circle",size:"15"}),Object(s.jsxs)("span",{children:[e.current.pressure," ",Object(s.jsx)("span",{className:"mbar",children:"hpa"})]})]})]})})]})},p=function(){var e=Object(n.useContext)(r.a),t=e.currentLocation,c=e.GEOGRAPHICAL_REPORTS;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{className:"current-location-reports",children:[Object(s.jsx)("div",{className:"current-location-report-type",onClick:function(){return c(t.current.coord.lat,t.current.coord.lon,"hourly")},children:Object(s.jsxs)("p",{children:["3 Days Hourly Forecast"," ",Object(s.jsx)("span",{children:Object(s.jsx)(_.a,{icon:"chevron-right",size:"15"})})]})}),Object(s.jsx)("div",{className:"current-location-report-type",onClick:function(){return c(t.current.coord.lat,t.current.coord.lon,"daily")},children:Object(s.jsxs)("p",{children:["7 Days Forecast"," ",Object(s.jsx)("span",{children:Object(s.jsx)(_.a,{icon:"chevron-right",size:"15"})})]})})]})})},h=function(){var e=Object(n.useContext)(r.a),t=e.currentLocation,c=e.ifLoaded,o=e.ifPickReport,i=e.setIfPickReport,l=e.currentLocationReport;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{style:{pointerEvents:c?"auto":"none"},className:"current-location-dhm ".concat(t&&c&&o?"current-location-dhm-show":""),children:[Object(s.jsxs)("p",{className:"current-location-report-back",onClick:function(){return i(!1)},children:[" ",Object(s.jsx)(_.a,{icon:"chevron-left",size:"15"})," ",Object(s.jsx)("span",{children:"Back"})]}),Object(s.jsx)("div",{className:"current-location-dhm-c",children:Object(s.jsx)("ul",{children:l.forecast&&l.forecast.map((function(e,t){return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)("div",{className:"location-data",children:Object(s.jsxs)("li",{className:"location-info",children:[Object(s.jsx)("span",{className:"location-info-name-report",children:e.sky}),Object(s.jsx)("span",{className:"location-info-cicon-report",children:Object(s.jsx)("img",{className:"location-info-icon-report",src:e.icon})}),Object(s.jsx)("span",{className:"location-info-temp-report",children:e.temp}),Object(s.jsx)("span",{className:"location-info-coordinates-report",children:e.dt})]})})},t)}))})})]})})};t.a=function(){var e=Object(n.useContext)(r.a),t=e.location,c=(e.fLocation,e.weather),o=e.ifPickLocation,l=e.ifPickReport,d=(e.currentLocationReport,c.length>0&&t.length>0&&!o||l);return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{className:"current-location-info",children:[Object(s.jsxs)("div",{className:"current-location-data ".concat(d?"current-location-data-hide":""),children:[Object(s.jsx)(i,{}),Object(s.jsx)(j,{}),Object(s.jsx)(p,{})]}),Object(s.jsx)(u,{}),Object(s.jsx)(h,{})]})})}},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(22),o=c.n(r),s=c(23),i=c(2),l=c(0);var u=function(){return Object(l.jsx)("div",{className:"weather-app",children:Object(l.jsx)(i.b,{children:Object(l.jsx)(s.a,{})})})},d=(c(77),c.p+"static/media/vector-landscape-2.d9f0f3a4.jpg"),_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,79)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)("div",{id:"react-weather",style:{backgroundImage:"url(".concat(d,")")},children:Object(l.jsx)(u,{})})}),document.getElementById("root")),_()}},[[78,1,2]]]);
//# sourceMappingURL=main.991bfdd2.chunk.js.map