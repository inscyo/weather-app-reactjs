(this["webpackJsonpweather-app-reactjs"]=this["webpackJsonpweather-app-reactjs"]||[]).push([[0],{73:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(21),o=c.n(r),s=c(0),i=function(e){var t=e.bgcolor;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)("div",{className:"progress_bar",children:Object(s.jsx)("div",{className:"indeterminate",style:{backgroundColor:t}})})})},l=c(5),d=c.n(l),u=c(7),j=c(4),h=c(6),p=c.n(h),b=c(22),O=c.n(b),f=function(e,t){var c=[];switch(t.type){case"hourly":var n=t.forecast.hourly;c.length=0;for(var a=0;a<n.length;a++){var r={},o=new Date(1e3*n[a].dt),s=o.getUTCHours()%12+1,i=o.toLocaleDateString("en-US",{weekday:"short"}),l="".concat(s).concat(o.getUTCHours()>12?"pm":"am"),d="".concat(i," of ").concat(l);r.dt=d,r.icon="".concat("https://openweathermap.org/img/wn/").concat(n[a].weather[0].icon,"@2x.png"),r.sky=n[a].weather[0].description,r.temp="".concat(n[a].temp," \xb0C"),c.push(r)}return{forecast:c,type:t.type};case"daily":var u=t.forecast.daily;c.length=0;for(var j=0;j<u.length;j++){var h={};console.log(u[j]);var p=new Date(1e3*u[j].dt),b=(p.getUTCHours(),p.toLocaleDateString("en-US",{weekday:"long"})),O="".concat(b);h.dt=O,h.icon="".concat("https://openweathermap.org/img/wn/").concat(u[j].weather[0].icon,"@2x.png"),h.sky=u[j].weather[0].description,h.temp="".concat(u[j].temp.max," \xb0C"),c.push(h)}return{forecast:c,type:t.type};default:return{forecast:t.default,type:t.type}}},x=Object(n.createContext)(),m=function(e){var t=e.children,c=Object(n.useState)(""),r=Object(j.a)(c,2),o=r[0],i=r[1],l=Object(n.useState)(),h=Object(j.a)(l,2),b=h[0],m=h[1],g=Object(n.useReducer)(f,[]),v=Object(j.a)(g,2),w=v[0],y=v[1],N=Object(n.useState)([]),k=Object(j.a)(N,2),L=k[0],C=k[1],P=Object(n.useState)(!1),I=Object(j.a)(P,2),R=I[0],F=I[1],S=Object(n.useState)(0),D=Object(j.a)(S,2),T=D[0],A=D[1],E=Object(n.useState)(!1),H=Object(j.a)(E,2),G=H[0],M=H[1],_=Object(n.useState)(!1),z=Object(j.a)(_,2),U=z[0],B=z[1],J=Object(n.useRef)(!0),q=273.1,W=function(){var e=Object(u.a)(d.a.mark((function e(){var t,c,n,a,r,s,i,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]&&l[0],console.log(t),F(!1),A(0),e.prev=4,!(o.length>0)){e.next=19;break}return e.next=8,p.a.get("https://openweathermap.org/data/2.5/find?appid=439d4b804bc8187953eb36d2a8c26a02&units=metric&q="+o,{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);A(t)}});case 8:return c=e.sent,e.next=11,c.data;case 11:for(n=e.sent,a=n.list,r=[],s=0;s<a.length;s++)i="".concat(a[s].sys.country.toLowerCase(),".png"),r.push({cityID:a[s].id,name:"".concat(a[s].name," ").concat(a[s].sys.country),flag:"https://openweathermap.org/images/flags/"+i,lcon:a[s].weather[0].icon,ldeg:a[s].main.temp,icon:"".concat("https://openweathermap.org/img/wn/").concat(a[s].weather[0].icon,".png"),deg:"".concat(Math.floor(a[s].main.temp-q),"\xb0"),degIcon:"\xb0",lat:a[s].coord.lat,lon:a[s].coord.lon});C(r),F(!0),e.next=21;break;case 19:F(!0),A(100);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(4),F(!0),A(100);case 27:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(d.a.mark((function e(){var t,c,n,a,r,o,s,l,u,j,h,b,f,x,g,v,w=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length>0&&void 0!==w[0]?w[0]:null,c=w.length>1&&void 0!==w[1]?w[1]:null,n=w.length>2&&void 0!==w[2]?w[2]:null,a=w.length>3&&void 0!==w[3]?w[3]:null,F(!1),A(0),e.prev=6,e.next=9,O.a.v4();case 9:return r=e.sent,e.next=12,p.a.get("".concat("https://ipapi.co/").concat(r,"/json"),{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);A(t)}});case 12:return o=e.sent,e.next=15,o.data;case 15:return s=e.sent,e.next=18,p.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?appid=3718dfd6a49e196bde55afa82fd3702b","&lat=").concat(t||s.latitude,"&lon=").concat(c||s.longitude),{onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);A(t)}});case 18:return l=e.sent,e.next=21,l.data;case 21:return u=e.sent,j=u.sys.country,h="".concat(u.sys.country.toLowerCase(),".png"),b={skyType:u.weather[0].main,cityID:u.id,coord:u.coord,name:u.name,flag:"https://openweathermap.org/images/flags/"+h,date:new Date(1e3*u.dt).toString().split("(")[0].split(" ").slice(0,3).join(" "),icon:"".concat("https://openweathermap.org/img/wn/"+(n||u.weather[0].icon),"@2x.png"),deg:"".concat(Math.floor((a||u.main.temp)-q)),degIcon:"\xb0",lat:u.coord.lat,lon:u.coord.lon,sky:u.weather[0].description,feels:"".concat(Math.floor((a||u.main.feels_like)-q)),wind:"".concat(u.wind.speed,"m/s"),clouds:"".concat(u.clouds.all),pressure:(100*u.main.pressure/101325).toFixed(3)},e.next=27,p.a.get("".concat("https://restcountries.eu/rest/v2/alpha/").concat(j));case 27:return f=e.sent,e.next=30,f.data;case 30:return x=e.sent,b.country=x.name,e.next=34,p.a.get("".concat("https://api.bigdatacloud.net/data/reverse-geocode-client?localityLanguage=en&","latitude=").concat(t||s.latitude,"&longitude=").concat(c||s.longitude));case 34:return g=e.sent,e.next=37,g.data;case 37:v=e.sent,b.locality=v.locality,m({current:b}),i(""),C([]),F(!0),e.next=49;break;case 45:e.prev=45,e.t0=e.catch(6),F(!0),A(100);case 49:case"end":return e.stop()}}),e,null,[[6,45]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(d.a.mark((function e(t,c,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),A(0),e.prev=2,e.next=5,p.a.get("".concat("https://openweathermap.org/data/2.5/onecall?units=metric&appid=439d4b804bc8187953eb36d2a8c26a02&","&lat=").concat(t,"&lon=").concat(c));case 5:return a=e.sent,e.next=8,a.data;case 8:r=e.sent,y({type:n,forecast:r,default:[]}),F(!0),B(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),F(!0),A(100);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,c,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(J.current)return J.current=!1,"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;K(t,c)})),void K();o.length>0?W():C([])}),[o]),Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)(x.Provider,{value:{location:o,fLocation:i,weather:L,ifLoaded:R,IfLoadedPercentage:T,setIfLoaded:F,setIfLoadedPercentage:A,currentLocation:b,currentLocationReport:w,ifPickLocation:G,setIfPickLocation:M,ifPickReport:U,setIfPickReport:B,WEATHER_LOCATIONS:W,GEOGRAPHICAL_LOCATION:K,GEOGRAPHICAL_REPORTS:Q},children:t})})},g=c(23),v=function(){var e=Object(n.useContext)(x),t=e.location,c=e.fLocation,r=e.ifLoaded,o=e.setIfPickLocation,i=e.ifPickReport;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)(g.DebounceInput,{type:"text",className:"weather-search",placeholder:"Enter Location",disabled:!((r||!i)&&(r||i)),onFocus:function(){o(!1)},debounceTimeout:700,value:t,onChange:function(e){c(e.target.value)}})})},w=function(e){var t=e.name,c=e.flag,n=e.temp,r=e.icon,o=e.lat,i=e.lon;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("li",{className:"location-info",children:[Object(s.jsx)("span",{className:"location-info-name",children:t}),Object(s.jsx)("span",{className:"location-info-cflag",children:Object(s.jsx)("img",{className:"location-info-flag",src:c})}),Object(s.jsx)("span",{className:"location-info-temp",children:n}),Object(s.jsx)("span",{className:"location-info-cicon",children:Object(s.jsx)("img",{className:"location-info-icon",src:r})}),Object(s.jsx)("span",{className:"location-info-coordinates",children:"".concat(o," ").concat(i)})]})})},y=function(){var e=Object(n.useContext)(x),t=e.weather,c=e.location,r=e.ifPickLocation,o=e.setIfPickLocation,i=(e.ifPickReport,e.GEOGRAPHICAL_LOCATION);return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)("div",{className:"weather-search-result ".concat(t.length>0&&c.length>0&&!r?"weather-search-result-show":""),children:Object(s.jsx)("div",{className:"location-result ".concat(c.length>0?"show-location-result":""),children:Object(s.jsx)("ul",{children:t.map((function(e){return Object(s.jsx)("div",{className:"location-data",onClick:function(t){o(!0),i(e.lat,e.lon,e.lcon,e.ldeg)},children:Object(s.jsx)(w,{name:e.name,flag:e.flag,temp:e.deg,icon:e.icon,lat:e.lat,lon:e.lon,loadThis:i})},e.cityID)}))})})})})},N=c(3),k=c.n(N),L=function(){var e=Object(n.useContext)(x).currentLocation;return Object(s.jsxs)(a.a.Fragment,{children:[Object(s.jsxs)("div",{className:"current-location-info-data",children:[Object(s.jsx)("div",{className:"current-location-today",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"".concat(e.current.name," ").concat(e.current.locality)}),Object(s.jsx)("p",{className:"current-location-yours",children:Object(s.jsxs)("span",{children:[e.current.country,Object(s.jsx)("img",{src:e.current.flag})]})}),Object(s.jsxs)("p",{children:[e.current.date," , Feels like ",e.current.feels," ",Object(s.jsxs)("span",{children:[e.current.degIcon,"C"]})]})]})}),Object(s.jsxs)("p",{className:"current-location-deg",children:[e.current.deg,Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{children:e.current.degIcon}),"C"]})]}),Object(s.jsxs)("p",{className:"current-location-sky",children:[e.current.sky," ",Object(s.jsx)("img",{src:e.current.icon,className:"current-location-icon"})," "]})]}),Object(s.jsx)("div",{className:"current-location-temp",children:Object(s.jsxs)("div",{className:"current-location-weather",children:[Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(k.a,{icon:"wind",size:"15"}),Object(s.jsx)("span",{children:e.current.wind})]}),Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(k.a,{icon:"cloud",size:"15"}),Object(s.jsxs)("span",{children:[e.current.clouds,"%"]})]}),Object(s.jsxs)("div",{className:"current-location-wind",children:[Object(s.jsx)(k.a,{icon:"alert-circle",size:"15"}),Object(s.jsxs)("span",{children:[e.current.pressure," ",Object(s.jsx)("span",{className:"mbar",children:"hpa"})]})]})]})})]})},C=function(){var e=Object(n.useContext)(x),t=e.currentLocation,c=e.GEOGRAPHICAL_REPORTS;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{className:"current-location-reports",children:[Object(s.jsx)("div",{className:"current-location-report-type",onClick:function(){return c(t.current.coord.lat,t.current.coord.lon,"hourly")},children:Object(s.jsxs)("p",{children:["3 Days Hourly Forecast"," ",Object(s.jsx)("span",{children:Object(s.jsx)(k.a,{icon:"chevron-right",size:"15"})})]})}),Object(s.jsx)("div",{className:"current-location-report-type",onClick:function(){return c(t.current.coord.lat,t.current.coord.lon,"daily")},children:Object(s.jsxs)("p",{children:["7 Days Forecast"," ",Object(s.jsx)("span",{children:Object(s.jsx)(k.a,{icon:"chevron-right",size:"15"})})]})})]})})},P=function(){var e=Object(n.useContext)(x),t=e.currentLocation,c=e.ifLoaded,r=e.ifPickReport,o=e.setIfPickReport,i=e.currentLocationReport;return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{style:{pointerEvents:c?"auto":"none"},className:"current-location-dhm ".concat(t&&c&&r?"current-location-dhm-show":""),children:[Object(s.jsxs)("p",{className:"current-location-report-back",onClick:function(){return o(!1)},children:[" ",Object(s.jsx)(k.a,{icon:"chevron-left",size:"15"})," ",Object(s.jsx)("span",{children:"Back"})]}),Object(s.jsx)("div",{className:"current-location-dhm-c",children:Object(s.jsx)("ul",{children:i.forecast&&i.forecast.map((function(e,t){return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsx)("div",{className:"location-data",children:Object(s.jsxs)("li",{className:"location-info",children:[Object(s.jsx)("span",{className:"location-info-name-report",children:e.sky}),Object(s.jsx)("span",{className:"location-info-cicon-report",children:Object(s.jsx)("img",{className:"location-info-icon-report",src:e.icon})}),Object(s.jsx)("span",{className:"location-info-temp-report",children:e.temp}),Object(s.jsx)("span",{className:"location-info-coordinates-report",children:e.dt})]})})},t)}))})})]})})},I=function(){var e=Object(n.useContext)(x),t=e.location,c=(e.fLocation,e.weather),r=e.ifPickLocation,o=e.ifPickReport,i=(e.currentLocationReport,c.length>0&&t.length>0&&!r||o);return Object(s.jsx)(a.a.Fragment,{children:Object(s.jsxs)("div",{className:"current-location-info",children:[Object(s.jsxs)("div",{className:"current-location-data ".concat(i?"current-location-data-hide":""),children:[Object(s.jsx)(v,{}),Object(s.jsx)(L,{}),Object(s.jsx)(C,{})]}),Object(s.jsx)(y,{}),Object(s.jsx)(P,{})]})})},R=function(){var e=Object(n.useContext)(x),t=e.ifLoaded,c=e.currentLocation;return Object(s.jsxs)(a.a.Fragment,{children:[!t&&Object(s.jsx)(i,{bgcolor:"#706dc5"}),Object(s.jsx)("div",{className:"weather-main-app",children:Object(s.jsx)("div",{className:"weather-info",children:c&&Object(s.jsx)(I,{})})})]})};var F=function(){return Object(s.jsx)("div",{className:"weather-app",children:Object(s.jsx)(m,{children:Object(s.jsx)(R,{})})})},S=(c(73),c.p+"static/media/vector-landscape-2.d9f0f3a4.jpg"),D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)("div",{id:"react-weather",style:{backgroundImage:"url(".concat(S,")")},children:Object(s.jsx)(F,{})})}),document.getElementById("root")),D()}},[[74,1,2]]]);
//# sourceMappingURL=main.87dda094.chunk.js.map